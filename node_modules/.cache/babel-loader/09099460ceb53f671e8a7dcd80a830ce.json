{"ast":null,"code":"var _jsxFileName = \"/home/mik/sites/react/todolist/src/components/home.js\";\nimport React, { Fragment } from 'react';\nimport Header from './header';\nimport Footer from './footer';\nimport Form from './form';\nimport List from './list';\nimport Filter from './filter';\nimport '../App.css';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      let inputName = event.target.name;\n      this.setState({\n        [inputName]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let task = this.state.taskInput;\n\n      if (task.length > 1) {\n        let tasks = [...this.state.tasks, {\n          name: task,\n          isDone: false,\n          isRemove: false\n        }];\n        this.setState({\n          tasks,\n          taskInput: \"\",\n          error: false\n        });\n      } else {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.isDone = id => {\n      let tasks = [...this.state.tasks];\n      this.state.tasks[id].isDone = !this.state.tasks[id].isDone;\n      this.setState({\n        tasks\n      });\n    };\n\n    this.removeTask = id => {\n      let tasks = [...this.state.tasks];\n      this.state.tasks[id].isRemove = true;\n      this.setState({\n        tasks\n      });\n    };\n\n    this.removeDone = id => {\n      let tasks = [...this.state.tasks];\n      let done = this.state.tasks[id].getAttribute('data-done') === false;\n      console.log(done);\n      done.style.display = 'none';\n      this.setState({\n        done\n      });\n    };\n\n    this.state = {\n      taskInput: \"\",\n      error: null,\n      tasks: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.isDone = this.isDone.bind(this);\n    this.removeDone = this.removeDone.bind(this);\n  }\n\n  render() {\n    if (this.state.error === true) {\n      return React.createElement(Filter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      });\n    }\n\n    const list = this.state.tasks.map((item, index) => {\n      if (!item.isRemove) {\n        return React.createElement(List, {\n          key: index,\n          task: item.name,\n          isDone: item.isDone,\n          button: () => this.isDone(index),\n          removeTask: () => this.removeTask(index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        });\n      }\n    });\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Form, {\n      taskInput: this.state.taskInput,\n      submit: this.handleSubmit,\n      handleChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), this.state.error, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, list), React.createElement(Filter, {\n      removeDone: this.removeDone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Home;\n{\n  /* <form onSubmit = {this.handleSubmit}>\n                                             <label>ajouter une tâche : </label>\n                                             <input\n                                                 type = 'text'\n                                                 value = {this.state.taskInput} \n                                                 onChange = {this.handleChange}\n                                                 name = 'taskInput'\n                                              />\n                                              <button type = 'submit'>Ajouter</button>\n                                         </form> */\n}","map":{"version":3,"sources":["/home/mik/sites/react/todolist/src/components/home.js"],"names":["React","Fragment","Header","Footer","Form","List","Filter","Home","Component","constructor","props","handleChange","event","inputName","target","name","setState","value","handleSubmit","preventDefault","task","state","taskInput","length","tasks","isDone","isRemove","error","id","removeTask","removeDone","done","getAttribute","console","log","style","display","bind","render","list","map","item","index"],"mappings":";AAAA,OAAOA,KAAP,IAAiBC,QAAjB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,OAAO,YAAP;;AAEA,MAAMC,IAAN,SAAmBP,KAAK,CAACQ,SAAzB,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAcnBC,YAdmB,GAcHC,KAAD,IAAW;AACzB,UAAIC,SAAS,GAAGD,KAAK,CAACE,MAAN,CAAaC,IAA7B;AACA,WAAKC,QAAL,CAAc;AAAC,SAACH,SAAD,GAAcD,KAAK,CAACE,MAAN,CAAaG;AAA5B,OAAd;AACA,KAjBkB;;AAAA,SAkBnBC,YAlBmB,GAkBHN,KAAD,IAAW;AACzBA,MAAAA,KAAK,CAACO,cAAN;AACA,UAAIC,IAAI,GAAG,KAAKC,KAAL,CAAWC,SAAtB;;AACG,UAAIF,IAAI,CAACG,MAAL,GAAc,CAAlB,EAAqB;AACpB,YAAIC,KAAK,GAAG,CAAE,GAAG,KAAKH,KAAL,CAAWG,KAAhB,EACO;AACIT,UAAAA,IAAI,EAAMK,IADd;AAEIK,UAAAA,MAAM,EAAK,KAFf;AAGIC,UAAAA,QAAQ,EAAG;AAHf,SADP,CAAZ;AAOA,aAAKV,QAAL,CAAc;AAAEQ,UAAAA,KAAF;AAASF,UAAAA,SAAS,EAAG,EAArB;AAAyBK,UAAAA,KAAK,EAAG;AAAjC,SAAd;AACA,OATD,MASO;AACH,aAAKX,QAAL,CAAc;AAACW,UAAAA,KAAK,EAAG;AAAT,SAAd;AACH;AACJ,KAjCkB;;AAAA,SAkCnBF,MAlCmB,GAkCTG,EAAD,IAAQ;AACb,UAAIJ,KAAK,GAAG,CAAE,GAAG,KAAKH,KAAL,CAAWG,KAAhB,CAAZ;AACA,WAAKH,KAAL,CAAWG,KAAX,CAAiBI,EAAjB,EAAqBH,MAArB,GAA8B,CAAC,KAAKJ,KAAL,CAAWG,KAAX,CAAiBI,EAAjB,EAAqBH,MAApD;AACA,WAAKT,QAAL,CAAc;AAAEQ,QAAAA;AAAF,OAAd;AACH,KAtCkB;;AAAA,SAuCnBK,UAvCmB,GAuCLD,EAAD,IAAQ;AACjB,UAAIJ,KAAK,GAAG,CAAE,GAAG,KAAKH,KAAL,CAAWG,KAAhB,CAAZ;AACA,WAAKH,KAAL,CAAWG,KAAX,CAAiBI,EAAjB,EAAqBF,QAArB,GAAgC,IAAhC;AACA,WAAKV,QAAL,CAAc;AAACQ,QAAAA;AAAD,OAAd;AACH,KA3CkB;;AAAA,SA4CnBM,UA5CmB,GA4CLF,EAAD,IAAQ;AACjB,UAAIJ,KAAK,GAAG,CAAC,GAAG,KAAKH,KAAL,CAAWG,KAAf,CAAZ;AACA,UAAIO,IAAI,GAAG,KAAKV,KAAL,CAAWG,KAAX,CAAiBI,EAAjB,EAAqBI,YAArB,CAAkC,WAAlC,MAAmD,KAA9D;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAA,MAAAA,IAAI,CAACI,KAAL,CAAWC,OAAX,GAAqB,MAArB;AACA,WAAKpB,QAAL,CAAc;AAACe,QAAAA;AAAD,OAAd;AACH,KAlDkB;;AAEf,SAAKV,KAAL,GAAa;AACZC,MAAAA,SAAS,EAAG,EADA;AAETK,MAAAA,KAAK,EAAG,IAFC;AAGZH,MAAAA,KAAK,EAAG;AAHI,KAAb;AAMA,SAAKb,YAAL,GAAoB,KAAKA,YAAL,CAAkB0B,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKnB,YAAL,GAAoB,KAAKA,YAAL,CAAkBmB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKZ,MAAL,GAAoB,KAAKA,MAAL,CAAYY,IAAZ,CAAiB,IAAjB,CAApB;AACA,SAAKP,UAAL,GAAoB,KAAKA,UAAL,CAAgBO,IAAhB,CAAqB,IAArB,CAApB;AACH;;AAyCDC,EAAAA,MAAM,GAAG;AAEL,QAAI,KAAKjB,KAAL,CAAWM,KAAX,KAAqB,IAAzB,EAA+B;AAC3B,aAAS,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAT;AACH;;AACJ,UAAMY,IAAI,GAAG,KAAKlB,KAAL,CAAWG,KAAX,CACXgB,GADW,CACP,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACZ,UAAI,CAACD,IAAI,CAACf,QAAV,EAAoB;AACtB,eAAQ,oBAAC,IAAD;AACC,UAAA,GAAG,EAAIgB,KADR;AAEC,UAAA,IAAI,EAAID,IAAI,CAAC1B,IAFd;AAGC,UAAA,MAAM,EAAI0B,IAAI,CAAChB,MAHhB;AAIC,UAAA,MAAM,EAAK,MAAM,KAAKA,MAAL,CAAYiB,KAAZ,CAJlB;AAKU,UAAA,UAAU,EAAK,MAAM,KAAKb,UAAL,CAAgBa,KAAhB,CAL/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AAOG;AACV,KAXW,CAAb;AAaG,WACC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACO,oBAAC,IAAD;AACI,MAAA,SAAS,EAAK,KAAKrB,KAAL,CAAWC,SAD7B;AAEI,MAAA,MAAM,EAAI,KAAKJ,YAFnB;AAGI,MAAA,YAAY,EAAI,KAAKP,YAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADP,EAMQ,KAAKU,KAAL,CAAWM,KANnB,EAOO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEY,IADF,CAPP,EAUO,oBAAC,MAAD;AACI,MAAA,UAAU,EAAI,KAAKT,UADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVP,CAFJ,EAgBI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBJ,CADD;AAoBH;;AA5F8B;;AA+FnC,eAAevB,IAAf;AAuBA;AAAC;;;;;;;;;;AASkD","sourcesContent":["import React , { Fragment } from 'react';\nimport Header from './header';\nimport Footer from './footer';\nimport Form from './form';\nimport List from './list';\nimport Filter from './filter';\n\nimport '../App.css'\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \ttaskInput : \"\",\n            error : null,\n        \ttasks : [],\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.isDone       = this.isDone.bind(this);\n        this.removeDone   = this.removeDone.bind(this);\n    }\n\n    handleChange = (event) => {\n    \tlet inputName = event.target.name;\n    \tthis.setState({[inputName] : event.target.value })\n    }\n    handleSubmit = (event) => {\n    \tevent.preventDefault();\n    \tlet task = this.state.taskInput;\n        if (task.length > 1) {\n        \tlet tasks = [ ...this.state.tasks,\n                            { \n                                name    : task,\n                                isDone   : false,\n                                isRemove : false\n                            }\n                        ];\n        \tthis.setState({ tasks, taskInput : \"\", error : false });\n        } else {\n            this.setState({error : true});\n        }\n    }\n    isDone = (id) => {\n        let tasks = [ ...this.state.tasks ];\n        this.state.tasks[id].isDone = !this.state.tasks[id].isDone;\n        this.setState({ tasks });\n    }\n    removeTask = (id) => {\n        let tasks = [ ...this.state.tasks ];\n        this.state.tasks[id].isRemove = true;\n        this.setState({tasks});\n    }\n    removeDone = (id) => {\n        let tasks = [...this.state.tasks];\n        let done = this.state.tasks[id].getAttribute('data-done') === false ;\n        console.log(done);\n        done.style.display = 'none'\n        this.setState({done})\n    }\n\n\n    render() {\n    \t\n        if (this.state.error === true) {\n            return ( <Filter />)\n        }\n    \tconst list = this.state.tasks\n\t    \t.map((item, index) => {\n                if (!item.isRemove) {\n        \t    \treturn \t<List\n                \t\t\t    key = {index}\n                \t\t\t    task = {item.name}\n                \t\t\t    isDone = {item.isDone}\n                \t\t\t    button = { () => this.isDone(index) }\n                                removeTask = { () => this.removeTask(index) }\n            \t    \t    />   \n                }\n\t    \t})\n    \t\n        return (\n        \t<Fragment>\n\t            <Header />\n\t            <section>\n                    <Form\n                        taskInput = { this.state.taskInput }\n                        submit = {this.handleSubmit}\n                        handleChange = {this.handleChange}\n                    />\n                    {this.state.error}\n                    <ul>\n\t                    {list}\n                    </ul>\n                    <Filter\n                        removeDone = {this.removeDone}\n                    />\n\t            </section>\n\t            <Footer />\n            </Fragment>\n        );\n    }\n}\n\nexport default Home;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n{/* <form onSubmit = {this.handleSubmit}>\n                                            <label>ajouter une tâche : </label>\n                                            <input\n                                                type = 'text'\n                                                value = {this.state.taskInput} \n                                                onChange = {this.handleChange}\n                                                name = 'taskInput'\n                                             />\n                                             <button type = 'submit'>Ajouter</button>\n                                        </form> */}"]},"metadata":{},"sourceType":"module"}