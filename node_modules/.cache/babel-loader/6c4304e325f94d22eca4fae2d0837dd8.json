{"ast":null,"code":"var _jsxFileName = \"/home/mik/sites/react/todolist/src/components/home.js\";\nimport React, { Fragment } from 'react';\nimport Header from './header';\nimport Footer from './footer';\nimport Form from './form';\nimport List from './list';\nimport Filter from './filter';\nimport '../App.css';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      let taskInput = event.target.name;\n      this.setState({\n        [taskInput]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let taskInput = [...this.state.taskInput];\n\n      if (taskInput.length > 0) {\n        let tasks = [...this.state.tasks, {\n          id: `tache numÃ©ro:${Date.now()}`,\n          name: taskInput,\n          isDone: false,\n          isRemove: false\n        }];\n        this.setState({\n          tasks,\n          taskInput: \"\",\n          error: false\n        }); // localStorage.setItem('list' , JSON.stringify(tasks));\n      } else {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.isDone = id => {\n      let tasks = [...this.state.tasks];\n      tasks[id].isDone = !tasks[id].isDone;\n      this.setState({\n        tasks\n      }); // localStorage.setItem('list' , JSON.stringify(tasks));\n    };\n\n    this.removeTask = id => {\n      let tasks = [...this.state.tasks];\n      tasks[id].isRemove = true;\n      this.setState({\n        tasks\n      }); // localStorage.setItem('list' , JSON.stringify(tasks));\n    };\n\n    this.hideUnDone = () => {\n      let tasks = [...this.state.tasks];\n      this.setState({\n        tasks: this.state.tasks.filter(item => item.isDone === true)\n      });\n      console.log(tasks);\n    };\n\n    this.hideDone = () => {\n      let tasks = [...this.state.tasks];\n      this.setState({\n        tasks: this.state.tasks.filter(item => item.isDone === false)\n      });\n      console.log(tasks);\n    };\n\n    this.showAll = () => {// let tasks = this.state.tasks;\n      // this.setState({ tasks :localStorage.getItem('list')  });\n      // console.log(tasks);\n    };\n\n    this.state = {\n      taskInput: \"\",\n      tasks: [],\n      error: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.isDone = this.isDone.bind(this);\n    this.hideUnDone = this.hideUnDone.bind(this);\n    this.removeTask = this.removeTask.bind(this);\n  }\n\n  componentDidUpdate() {\n    let tasks = [...this.state.tasks];\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  }\n\n  componentDidMount() {\n    let tasks = [...this.state.tasks];\n    tasks = JSON.parse(localStorage.getItem('tasks'));\n    this.setState({\n      tasks\n    });\n  }\n\n  render() {\n    // const task_from_ls = localStorage.getItem('list');\n    //    const ls_js = JSON.parse(ls)\n    //    console.log(lsj);\n    const list = this.state.tasks.forEach(item => {\n      return React.createElement(List, {\n        key: item.id,\n        task: item.name,\n        isDone: item.isDone,\n        button: () => this.isDone(item.id),\n        removeTask: () => this.removeTask(item.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      });\n    });\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Form, {\n      taskInput: this.state.taskInput,\n      submit: this.handleSubmit,\n      handleChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), this.state.error ? React.createElement(\"p\", {\n      className: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Veuillez ins\\xE9rer une t\\xE2che\") : null, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, list), React.createElement(Filter, {\n      hideUnDone: this.hideUnDone,\n      hideDone: this.hideDone,\n      showAll: this.showAll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/mik/sites/react/todolist/src/components/home.js"],"names":["React","Fragment","Header","Footer","Form","List","Filter","Home","Component","constructor","props","handleChange","event","taskInput","target","name","setState","value","handleSubmit","preventDefault","state","length","tasks","id","Date","now","isDone","isRemove","error","removeTask","hideUnDone","filter","item","console","log","hideDone","showAll","bind","componentDidUpdate","localStorage","setItem","JSON","stringify","componentDidMount","parse","getItem","render","list","forEach"],"mappings":"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","sourcesContent":["import React , { Fragment } from 'react';\nimport Header from './header';\nimport Footer from './footer';\nimport Form   from './form';\nimport List   from './list';\nimport Filter from './filter';\nimport '../App.css';\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        \ttaskInput : \"\",\n        \ttasks     : [],\n            error     : null\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.isDone       = this.isDone.bind(this);\n        this.hideUnDone   = this.hideUnDone.bind(this);\n        this.removeTask   = this.removeTask.bind(this);\n    }\n\n    componentDidUpdate() {\n        let tasks = [ ...this.state.tasks ];\n        localStorage.setItem('tasks', JSON.stringify(tasks));\n    }\n    componentDidMount() {\n        let tasks = [ ...this.state.tasks ];\n        tasks = JSON.parse(localStorage.getItem('tasks'));\n        this.setState({ tasks });\n    }\n    handleChange = (event) => {\n        let taskInput = event.target.name;\n    \tthis.setState({ [taskInput] : event.target.value })\n    }\n    handleSubmit = (event) => {\n    \tevent.preventDefault();\n    \tlet taskInput = [ ...this.state.taskInput ];\n        if (taskInput.length > 0) {\n        \tlet tasks = [ ...this.state.tasks,\n                            { \n                                id       : `tache numÃ©ro:${Date.now()}`,\n                                name     : taskInput,\n                                isDone   : false,\n                                isRemove : false\n                            }\n                        ];\n        \tthis.setState({ tasks, taskInput : \"\", error : false });\n            // localStorage.setItem('list' , JSON.stringify(tasks));\n\n        } else {\n            this.setState({error : true});\n        }\n    }\n    isDone = (id) => {\n        let tasks = [ ...this.state.tasks ];\n        tasks[id].isDone = !tasks[id].isDone;\n        this.setState({ tasks });\n        // localStorage.setItem('list' , JSON.stringify(tasks));\n    }\n    removeTask = (id) => {\n        let tasks = [ ...this.state.tasks ];\n        tasks[id].isRemove = true;\n        this.setState({tasks});\n        // localStorage.setItem('list' , JSON.stringify(tasks));\n\n    }\n    hideUnDone = () => {\n        let tasks = [ ...this.state.tasks ];\n        this.setState({ tasks : this.state.tasks.filter( item => item.isDone === true) })\n        console.log(tasks);\n    }\n    hideDone = () => {\n        let tasks = [ ...this.state.tasks ];\n        this.setState({ tasks : this.state.tasks.filter( item => item.isDone === false) })\n        console.log(tasks);\n    }\n    showAll = () => {\n        // let tasks = this.state.tasks;\n        // this.setState({ tasks :localStorage.getItem('list')  });\n        // console.log(tasks);\n    }\n\n\n    render() {\n    \t// const task_from_ls = localStorage.getItem('list');\n     //    const ls_js = JSON.parse(ls)\n     //    console.log(lsj);\n       \n    \tconst list = this.state.tasks.forEach((item) => {\n                \n        \t    \treturn \t<List\n                \t\t\t    key = {item.id}\n                \t\t\t    task = {item.name}\n                \t\t\t    isDone = {item.isDone}\n                \t\t\t    button = { () => this.isDone(item.id) }\n                                removeTask = { () => this.removeTask(item.id) }\n            \t    \t    />   \n                \n\t    \t})\n    \t\n        return (\n        \t<Fragment>\n\t            <Header />\n\t            <section>\n                    <Form\n                        taskInput = { this.state.taskInput }\n                        submit = {this.handleSubmit}\n                        handleChange = {this.handleChange}\n                    />\n                    { this.state.error ? <p className = 'alert'>Veuillez insÃ©rer une tÃ¢che</p> :  null}\n                    <ul>\n\t                    {list}\n                    </ul>\n                    <Filter\n                        hideUnDone = {this.hideUnDone}\n                        hideDone   = {this.hideDone}\n                        showAll    = {this.showAll}\n                    />\n\t            </section>\n\t            <Footer />\n            </Fragment>\n        );\n    }\n}\n\nexport default Home;\n\n"]},"metadata":{},"sourceType":"module"}